load_all()
dt1 <- wr_order2(dt, gear, mpg)
load_all()
dt1 <- wr_order2(dt, gear, mpg)
load_all()
dt1 <- wr_order2(dt, gear, mpg)
load_all()
dt1 <- wr_order2(dt, gear, mpg)
dt1 <- wr_order2(dt, gear, mpg)
load_all()
dt1 <- wr_order2(dt, gear, mpg)
load_all()
dt1 <- wr_order2(dt, gear, mpg)
dt1
load_all()
dt1 <- wr_order2(dt, gear, mpg)
dt1
setorder(dt, mpg:cyl)
setorder(dt, mpg)
setorder(dt, mpg, cyl)
microbenchmark::microbenchmark(dt |> wr_order(mpg, hp, vs, carb),
dt |> wr_order2(mpg, hp, vs, carb),
times = 1000)
microbenchmark::microbenchmark(dt |> wr_order(mpg, hp, vs, carb),
dt |> wr_order2(mpg, hp, vs, carb),
times = 1000)
load_all()
dt1 <- wr_order(dt, gear, mpg)
dt1
dt1 <- wr_order2(dt, gear, mpg)
dt1
microbenchmark::microbenchmark(dt |> wr_order(mpg, hp, vs, carb),
dt |> wr_order2(mpg, hp, vs, carb),
times = 10000)
a
a[-2, -1]
a[-1:-2]
load_all()
dt1 <- wr_order2(dt, gear, mpg)
dt1
microbenchmark::microbenchmark(dt |> wr_order(mpg, hp, vs, carb),
dt |> wr_order2(mpg, hp, vs, carb),
times = 1000)
microbenchmark::microbenchmark(dt |> wr_order(mpg, hp, vs, carb),
dt |> wr_order2(mpg, hp, vs, carb),
times = 1000)
load_all()
dt1 <- wr_order2(dt, gear, mpg)
microbenchmark::microbenchmark(dt |> wr_order(mpg, hp, vs, carb),
dt |> wr_order2(mpg, hp, vs, carb),
times = 1000)
load_all()
dt1 <- wr_order2(dt, gear, mpg)
microbenchmark::microbenchmark(dt |> wr_order(mpg, hp, vs, carb),
dt |> wr_order2(mpg, hp, vs, carb),
times = 1000)
library(wr.data.table)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
result_wr_order_cols <- purrr::map(manyCols, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> dplyr::arrange(am, vs))
})
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
dt <- data.table(mtcars)
wr_dt_withrownames <- function(dt, n) {
for (i in 1:n) {
dt <- rbind(dt, dt)
}
data.table(dt)
}
manyRows <- lapply(c(2,5,10),function(x){wr_dt_withrownames(dt, x)})
#str(manyRows)
dtwithmanycols <- function(dt,n ) {
for (i in 1:n) {
dt <- cbind(dt, dt)
}
data.table(dt, check.names = TRUE)
}
manyCols <- lapply(c(2,5,10), function(x){dtwithmanycols(dt, x)})
#str(manyCols)
getDT <- function(x) {
x[1]
}
# wr_order
result_wr_order_rows <- purrr::map(manyRows, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> arrange(am, vs))
})
#result_wr_order_rows
purrr::map(result_wr_order_rows, boxplot)
result_wr_order_cols <- purrr::map(manyCols, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> dplyr::arrange(am, vs))
})
#result_wr_order_cols
purrr::map(result_wr_order_cols, boxplot)
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
)
})
purrr::map(result_wr_summarize_rows, boxplot)
result_wr_summarize_cols <- purrr::map(manyCols, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
)
})
result_wr_summarize_cols
purrr::map(result_wr_summarize_cols, boxplot)
?summarize
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop")
)
})
purrr::map(result_wr_summarize_rows, boxplot)
source("C:/Users/Ka Lok/OneDrive/Data Science/R/myPackages/wr.data.table/R/wr_summarize2.R", echo=TRUE)
load_all()
library(devtools)
load_all()
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(getDT(x), gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop"),
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(getDT(x), gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop"),
)
})
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
dt <- data.table(mtcars)
wr_dt_withrownames <- function(dt, n) {
for (i in 1:n) {
dt <- rbind(dt, dt)
}
data.table(dt)
}
manyRows <- lapply(c(2,5,10),function(x){wr_dt_withrownames(dt, x)})
#str(manyRows)
dtwithmanycols <- function(dt,n ) {
for (i in 1:n) {
dt <- cbind(dt, dt)
}
data.table(dt, check.names = TRUE)
}
manyCols <- lapply(c(2,5,10), function(x){dtwithmanycols(dt, x)})
#str(manyCols)
getDT <- function(x) {
x[1]
}
# wr_order
result_wr_order_rows <- purrr::map(manyRows, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> arrange(am, vs))
})
#result_wr_order_rows
purrr::map(result_wr_order_rows, boxplot)
result_wr_order_cols <- purrr::map(manyCols, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> dplyr::arrange(am, vs))
})
#result_wr_order_cols
purrr::map(result_wr_order_cols, boxplot)
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(getDT(x), gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop"),
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(getDT(x), gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop"),
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop"),
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop"),
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .group="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .group="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_cols <- purrr::map(manyCols, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
purrr::map(result_wr_summarize_rows, boxplot)
result_wr_summarize_cols <- purrr::map(manyCols, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_cols
purrr::map(result_wr_summarize_cols, boxplot)
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)))
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)))
load_all()
rm(dtwithrownames)
rm(wr_dt_withrownames)
load_all()
load_all()
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)))
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)), time=1000)
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)), times=1000)
r_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
print(args[-1])
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
library(wr.data.table)
mkdt()
dt1 <- dt |> wr_order(vs, gear, mpg)
dt1
load_all()
library(devtolls)
library(devtools)
load_all()
wr_summarize(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
dt |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt |> wr_group_by(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt[,.(mpg=mean(mpg)), by=list("gear")]
dt[,.(mpg=mean(mpg)), by=c("gear")]
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt[,.(mpg=mean(mpg)), by=list("gear")]
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
dt <- data.table(mtcars)
wr_dt_withrownames <- function(dt, n) {
for (i in 1:n) {
dt <- rbind(dt, dt)
}
data.table(dt)
}
manyRows <- lapply(c(2,5,10),function(x){wr_dt_withrownames(dt, x)})
#str(manyRows)
dtwithmanycols <- function(dt,n ) {
for (i in 1:n) {
dt <- cbind(dt, dt)
}
data.table(dt, check.names = TRUE)
}
manyCols <- lapply(c(2,5,10), function(x){dtwithmanycols(dt, x)})
#str(manyCols)
getDT <- function(x) {
x[1]
}
# wr_order
result_wr_order_rows <- purrr::map(manyRows, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> arrange(am, vs))
})
#result_wr_order_rows
purrr::map(result_wr_order_rows, boxplot)
result_wr_order_cols <- purrr::map(manyCols, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> dplyr::arrange(am, vs))
})
library(wr.data.table)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
dt <- data.table(mtcars)
wr_dt_withrownames <- function(dt, n) {
for (i in 1:n) {
dt <- rbind(dt, dt)
}
data.table(dt)
}
manyRows <- lapply(c(2,5,10),function(x){wr_dt_withrownames(dt, x)})
#str(manyRows)
dtwithmanycols <- function(dt,n ) {
for (i in 1:n) {
dt <- cbind(dt, dt)
}
data.table(dt, check.names = TRUE)
}
manyCols <- lapply(c(2,5,10), function(x){dtwithmanycols(dt, x)})
#str(manyCols)
getDT <- function(x) {
x[1]
}
# wr_order
result_wr_order_rows <- purrr::map(manyRows, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> arrange(am, vs))
})
#result_wr_order_rows
purrr::map(result_wr_order_rows, boxplot)
result_wr_order_cols <- purrr::map(manyCols, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> dplyr::arrange(am, vs))
})
#result_wr_order_cols
purrr::map(result_wr_order_cols, boxplot)
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(getDT(x), gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows
purrr::map(result_wr_summarize_rows, boxplot)
library(wr.data.table)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows
purrr::map(result_wr_summarize_rows, boxplot)
result_wr_summarize_cols <- purrr::map(manyCols, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_cols
purrr::map(result_wr_summarize_cols, boxplot)
dt[dt]
setkey(dt, mpg)
dt
attributes(dt)
mkdt()
attributes(dt)
library(wr.data.table)
library(wr.data.table)
knitr::opts_chunk$set(
collapse = TRUE,
echo = FALSE,
comment = "#>"
)
knitr::opts_chunk$set(
collapse = TRUE,
echo = FALSE,
comment = "#>"
)
install.packages("reticulate")
