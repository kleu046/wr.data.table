result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups = "drop"),
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .group="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .group="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_cols <- purrr::map(manyCols, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
purrr::map(result_wr_summarize_rows, boxplot)
result_wr_summarize_cols <- purrr::map(manyCols, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_cols
purrr::map(result_wr_summarize_cols, boxplot)
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)))
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)))
load_all()
rm(dtwithrownames)
rm(wr_dt_withrownames)
load_all()
load_all()
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)))
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)), time=1000)
microbenchmark::microbenchmark(
wr_groupby(dt, gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)), times=1000)
r_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
print(args[-1])
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
load_all()
wr_groupby(dt, gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg))
library(wr.data.table)
mkdt()
dt1 <- dt |> wr_order(vs, gear, mpg)
dt1
load_all()
library(devtolls)
library(devtools)
load_all()
wr_summarize(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
load_all()
wr_summarize2(dt, mpg = mean(mpg))
dt |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt |> wr_group_by(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt[,.(mpg=mean(mpg)), by=list("gear")]
dt[,.(mpg=mean(mpg)), by=c("gear")]
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
dt[,.(mpg=mean(mpg)), by=list("gear")]
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
load_all()
dt |> wr_groupby(vs,gear) |> wr_summarize2(hp = mean(hp), mpg = mean(mpg))
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
dt <- data.table(mtcars)
wr_dt_withrownames <- function(dt, n) {
for (i in 1:n) {
dt <- rbind(dt, dt)
}
data.table(dt)
}
manyRows <- lapply(c(2,5,10),function(x){wr_dt_withrownames(dt, x)})
#str(manyRows)
dtwithmanycols <- function(dt,n ) {
for (i in 1:n) {
dt <- cbind(dt, dt)
}
data.table(dt, check.names = TRUE)
}
manyCols <- lapply(c(2,5,10), function(x){dtwithmanycols(dt, x)})
#str(manyCols)
getDT <- function(x) {
x[1]
}
# wr_order
result_wr_order_rows <- purrr::map(manyRows, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> arrange(am, vs))
})
#result_wr_order_rows
purrr::map(result_wr_order_rows, boxplot)
result_wr_order_cols <- purrr::map(manyCols, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> dplyr::arrange(am, vs))
})
library(wr.data.table)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
dt <- data.table(mtcars)
wr_dt_withrownames <- function(dt, n) {
for (i in 1:n) {
dt <- rbind(dt, dt)
}
data.table(dt)
}
manyRows <- lapply(c(2,5,10),function(x){wr_dt_withrownames(dt, x)})
#str(manyRows)
dtwithmanycols <- function(dt,n ) {
for (i in 1:n) {
dt <- cbind(dt, dt)
}
data.table(dt, check.names = TRUE)
}
manyCols <- lapply(c(2,5,10), function(x){dtwithmanycols(dt, x)})
#str(manyCols)
getDT <- function(x) {
x[1]
}
# wr_order
result_wr_order_rows <- purrr::map(manyRows, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> arrange(am, vs))
})
#result_wr_order_rows
purrr::map(result_wr_order_rows, boxplot)
result_wr_order_cols <- purrr::map(manyCols, function(x) {
microbenchmark::microbenchmark(
wr_order(getDT(x), am, vs),
setorder(getDT(x),am,vs),
getDT(x) |> dplyr::arrange(am, vs))
})
#result_wr_order_cols
purrr::map(result_wr_order_cols, boxplot)
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
wr_groupby(getDT(x), gear, am) |> wr_summarize2(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows
purrr::map(result_wr_summarize_rows, boxplot)
library(wr.data.table)
knitr::opts_chunk$set(echo = TRUE, cache = TRUE)
library(wr.data.table)
library(data.table)
library(dplyr)
result_wr_summarize_rows <- purrr::map(manyRows, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_rows
purrr::map(result_wr_summarize_rows, boxplot)
result_wr_summarize_cols <- purrr::map(manyCols, function(x){
microbenchmark::microbenchmark(
wr_groupby(getDT(x), gear, am) |> wr_summarize(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),
getDT(x)[,.(mu_mpg=mean(mpg),sd_mpg=sd(mpg)),by=list(gear,am)],
getDT(x) |> group_by(gear, am) |> summarise(mu_mpg=mean(mpg),sd_mpg=sd(mpg), .groups="drop")
)
})
result_wr_summarize_cols
purrr::map(result_wr_summarize_cols, boxplot)
dt[dt]
setkey(dt, mpg)
dt
attributes(dt)
mkdt()
attributes(dt)
library(wr.data.table)
library(wr.data.table)
knitr::opts_chunk$set(
collapse = TRUE,
echo = FALSE,
comment = "#>"
)
knitr::opts_chunk$set(
collapse = TRUE,
echo = FALSE,
comment = "#>"
)
install.packages("reticulate")
colnames(dt)
dt
load_all()
devtools::load_all()
mkdt()
dt
columns <- colnames(dt)
columns
columns[-"mpg"]
columns(-"mpg")
columns[-1]
columns[-1,-10]
columns[-c(1,10)]
dcast(copy(dt),colnames(dt)[-c(1,10)]
~ gear, value.var="mpg")
dcast(copy(dt),colnames(dt)[-c(1,10)] ~ "gear", value.var="mpg")
dt
dt[1]
dt[,1]
dt[,1]
spread(copy(dt), gear, mpg)
copy(dt)[,-c(1,10)]
dcast(copy(dt),copy(dt)[,-c(1,10)] ~ "gear", value.var="mpg")
copy(dt)[,-c(1,10)] ~ "gear", value.var="mpg"
copy(dt)[,-c(1,10)]
dcast(copy(dt),copy(dt)[,-c(1,10)] ~ "gear", value.var="mpg")
dcast(copy(dt),copy(dt)[-c(1,10)] ~ "gear", value.var="mpg")
dcast(copy(dt),cyl + disp + hp + drat + wt + qsec + vs + am + carb ~ gear,value.var="mpg")
spread(copy(dt),gear, mpg)
devtools::load_all()
mkdt()
devtools::load_all()
devtools::load_all()
mkdt()
spread(dt, key=c("gear", "vs", "am"), value="mpg")
spread(dt, key=c("gear", "vs", "am"), value=mpg)
spread(dt, c("gear", "vs", "am"), value=mpg)
spread(dt, gear, value=mpg)
spread(dt, "gear", value=mpg)
class("gear")
dcast(dt, hp + wt ~ mpg, gear)
dcast(dt, hp + wt ~ mpg, "gear")
dcast(dt, hp + wt ~ mpg, value.var="gear")
dcast(dt, hp + wt + drat ~ mpg, value.var="gear")
dcast(dt, hp + wt + drat ~ gear, value.var="mpg")
dcast(dt, hp + wt + drat ~ gear + am, value.var="mpg")
temp <- dcast(dt, hp + wt + drat ~ gear + am, value.var="mpg")
temp
temp |> melt(gear_am = c('3_0', '4_0', '4_1', '5_1'))
temp |> melt(gear_am = c('3_0', '4_0', '4_1', '5_1'))
temp |> melt(id=4:7, measure="mpg")
temp |> melt(id=4:7)
temp |> melt(id=4:7, measure.var="mpg")
temp |> melt(id=4:7, measure.vars="mpg")
temp |> melt(id=4:7, measure.vars=c("hp", "drat", "wt"))
temp |> melt(id=4:7, measure.vars=c("hp", "drat", "wt"))
temp
temp |> melt(id=4:7, measure.vars=c("hp", "drat", "wt"))
temp |> melt(id=4:7, value="hp")
temp |> melt(id=1:3, measure.vars="gear_am")
temp |> melt(id=1:3, measure="gear_am")
temp |> melt(id=1:3, value="gear_am")
temp |> melt(id=1:3, value="gear_am")
tmep
temp
temp <- dcast(dt, hp + wt + drat ~ gear + am, value.var="mpg")
temp
temp <- dcast(dt, wt ~ gear, value.var="mpg")
temp <- dcast(dt, wt + hp ~ gear, value.var="mpg")
temp <- dcast(copy(dt), wt + hp ~ gear, value.var="mpg")
temp <- dcast(copy(dt), wt + hp ~ gear, "mpg")
temp <- dcast(copy(dt), wt + hp ~ gear, value.var="mpg")
temp <- dcast(copy(dt), wt + hp ~ gear, value.vars="mpg")
temp <- dcast(copy(dt), wt + hp ~ gear, value.var="mpg")
temp <- dcast(dt, hp + wt + drat ~ gear + am, value.var="mpg")
dcast(dt, hp + wt + drat ~ gear + am, value.var="mpg")
dcast(dt, hp + wt + drat ~ gear + am)
dcast(dt, hp + wt + drat ~ gear + am)
dcast(dt, hp + wt + drat ~ gear + am, value.var=mpg)
dcast(dt, hp + wt + drat ~ gear + am, value.var='mpg')
dcast(dt, wt + drat ~ gear + am, value.var='hp')
dcast(dt, wt + drat ~ gear, value.var='hp')
dcast(dt, wt + drat ~ mpg, value.var='mpg')
dcast(dt, wt + drat ~ gear, value.var='gear')
dcast(dt, wt + drat ~ gear)
dcast(dt, wt + drat ~ carb)
dcast(dt, wt + drat ~ carb, value.var = "carb")
dcast(dt, wt + drat ~ gear, value.var = "mpg")
spread(dt, gear, mpg)
dcast(dt, cyl, disp + hp + draw + wt + qsec + vs + am + carb ~ gear, value.var = "mpg")
dcast(dt, cyl + disp + hp + draw + wt + qsec + vs + am + carb ~ gear, value.var = "mpg")
dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + am + carb ~ gear, value.var = "mpg")
dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + am + carb ~ gear, value.var = "mpg")
dcast(dt, hp ~ gear, value.var = "mpg")
dcast(dt, wt ~ gear, value.var = "mpg")
dcast(dt, wt ~ gear, measure.var = "mpg")
dcast(dt, wt ~ gear, value.vars = "mpg")
dcast(dt, wt ~ gear, value.var = "mpg")
dcast(dt, am ~ gear, value.var = "mpg")
dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + am + carb ~ gear, value.var = "mpg")
temp <- dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + am + carb ~ gear, value.var = "mpg")
temp
melt(temp, id = 10:12)
melt(temp, id = 10:12, measure.vars = "mpg")
melt(temp, id = 10:12)
melt(temp, id = 10:12, measure.vars = cyl)
melt(temp, id = 10:12, measure.vars = "cyl")
melt(temp, id = 10:12, measure.vars = c("cyl", "hp"))
melt(temp, id = 1:9, measure.vars = c("3", "4", "5"))
temp
melt(temp, id = 1:9, measure.vars = c("3", "4", "5"))
temp
melt(temp, id = cyl + disp, measure.vars = c("3", "4", "5"))
melt(temp, id = c("cyl", "disp"), measure.vars = c("3", "4", "5"))
spread(copy(dt), c("gear", "am"), c("mpg"))
spread(copy(dt), gear, mpg
)
spread(copy(dt), c("gear", "am"), c("mpg"))
melt(temp, id = c("cyl", "disp"), measure.vars = c("3", "4", "5"))
melt(temp, id = "disp", measure.vars = c("3", "4", "5"))
spread(copy(dt), "gear", "mpg")
!is.character("key")
spread(copy(dt), "gear", "mpg")
devtools::load_all()
spread(copy(dt), "gear", "mpg")
devtools::load_all()
spread(copy(dt), "gear", "mpg")
spread(copy(dt), c("gear", "am"), "mpg")
spread(copy(dt), c("gear", "am"), "mpg")
spread(copy(dt), c("gear", "am"), "mpg")
spread(copy(dt), c("gear", "am"), "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), c("gear", "am"), "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + am + carb ~ "gear", value.var = "mpg")
dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + carb ~ c("gear", "am"), value.var = "mpg")
dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + carb ~ "gear" + "am", value.var = "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), "gear", "mpg")
spread(copy(dt), c("gear","am"), "mpg")
spread(copy(dt), c("gear","am"), "mpg")
devtools::load_all()
devtools::load_all()
spread(copy(dt), c("gear","am"), "mpg")
spread(copy(dt), c("gear","am"), "mpg")
devtools::document()
devtools::document()
knitr::opts_chunk$set(
collapse = TRUE,
echo = FALSE,
comment = "#>"
)
library(wr.data.table)
dt <- dt_keeprownames(data1)
dt
dt <- dt |> rn_cols(rn = `vehicle model`)
dt
subset <- dt |> sel_cols(`vehicle model`, mpg:hp, gear, vs)
subset
(dt |> desel_cols(gear, vs, am, drat, carb, qsec))
dt |> filter_rows(mpg >= 20)
dt |> filter_rows(grepl("^M", `vehicle model`))
subset |> set_group(`vehicle model`, gear, vs) |> attributes()
subset |> set_group(`vehicle model`, gear, vs) |> condense(mu_mpg=round(mean(mpg),2), sd_mpg=round(sd(mpg),2), count=.N) |> rm_group()
myvar <- "mpg"
condense(dt |> set_group(vs), mu_mpg = mean(eval(char_to_symbol(myvar))))
subset1 <- subset |> def_cols(index = .I) |> arrange_cols(at="start", index)
subset1
subset2 <- subset1 |> def_cols(kpL = mpg * 0.425144, vs = ifelse(vs==0, "V-shaped", "Straight")) |> arrange_cols(at=mpg, kpL)
subset2
spread(subset2, key = vs, value = kpL)
mkdt()
spread(dt, key = gear, value = mpg)
dt
spread(dt, key = "gear", value = mpg)
dt
spread(dt, key = "gear", value = "mpg")
spread(dt, key = gear, value = mpg)
devtools::load_all()
spread(dt, key = gear, value = mpg)
library(devtools)
load_all()
mkdt()
dt
temp <- dcast(dt, cyl + disp + hp + drat + wt + qsec + vs + am + carb ~ gear, value.var = "mpg")
temp
temp
temp
melt(temp, cyl, measure.vars = c("3", "4","5"))
melt(temp, "cyl", measure.vars = c("3", "4","5"))
temp
load_all()
spread(copy(dt), gear, mpg)
load_all()
spread(copy(dt), gear, mpg)
spread(copy(dt), gear, mpg)
load_all()
spread(copy(dt), gear, mpg)
spread(copy(dt), gear, mpg)
load_all()
spread(copy(dt), gear, mpg)
load_all()
spread(copy(dt), gear, mpg)
load_all()
spread(copy(dt), gear, mpg)
spread(copy(dt), gear, mpg)
spread(copy(dt), gear, mpg)
spread(copy(dt), gear, mpg)
spread(copy(dt), gear, mpg)
load_all()
spread(copy(dt), gear, mpg)
